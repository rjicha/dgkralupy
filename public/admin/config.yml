# Decap CMS Configuration for Dvořákovo gymnázium
# Auto-generated by scripts/generate-cms-config.js
# DO NOT EDIT MANUALLY - Changes will be overwritten on next build

backend:
  name: github
  repo: rjicha/dgkralupy
  branch: main
  base_url: https://api.netlify.com
  auth_endpoint: auth

# Site configuration
site_url: https://rjicha.github.io/dgkralupy
display_url: https://rjicha.github.io/dgkralupy

# Media files configuration
media_folder: "public/images"
public_folder: "/dgkralupy/images"

# Locale
locale: 'cs'

# Collections
collections:
  # Articles Collection
  - name: "articles"
    label: "Články a aktuality"
    label_singular: "Článek"
    folder: "src/content/articles"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter"
    fields:
      - { label: "Nadpis", name: "title", widget: "string", required: true, hint: "Hlavní nadpis článku" }
      - { label: "Perex", name: "excerpt", widget: "text", required: true, hint: "Krátký úvodní text (2-3 věty)" }
      - { label: "Obsah článku", name: "body", widget: "markdown", required: true }
      - { label: "Datum publikace", name: "publishedAt", widget: "datetime", format: "DD.MM.YYYY", date_format: "DD.MM.YYYY", time_format: false, required: true }
      - { label: "Autor", name: "author", widget: "string", required: true, default: "Redakce" }
      - { label: "Štítky", name: "tags", widget: "list", required: false, hint: "Např: Akce, Sport, Studium", default: [] }
      - { label: "Obrázek", name: "image", widget: "image", required: false, hint: "Hlavní obrázek článku" }
      - { label: "Zvýrazněný článek", name: "featured", widget: "boolean", default: false, required: false, hint: "Zobrazit na hlavní stránce" }
      - { label: "Důležité oznámení", name: "important", widget: "boolean", default: false, required: false, hint: "Označit jako důležité" }
      - { label: "Koncept", name: "draft", widget: "boolean", default: false, required: false, hint: "Nezobrazovat na webu" }

  # Pages Collection
  - name: "pages"
    label: "Stránky"
    label_singular: "Stránka"
    folder: "src/content/pages"
    create: true
    slug: "{{slug}}"
    extension: "md"
    format: "frontmatter"
    fields:
      - { label: "Nadpis stránky", name: "title", widget: "string", required: true }
      - { label: "Popis (SEO)", name: "description", widget: "text", required: false, hint: "Popis pro vyhledávače" }
      - { label: "Obsah", name: "body", widget: "markdown", required: true }
      - { label: "Nadřazená sekce", name: "section", widget: "select", options: ["O škole", "Studium", "Aktivity", "Kontakty", "Pomoc jiným", "Ostatní"], required: false }
      - { label: "Pořadí v menu", name: "order", widget: "number", default: 0, value_type: "int", required: false, hint: "Čím nižší číslo, tím výše v menu" }
      - { label: "Skrýt z menu", name: "hideFromNav", widget: "boolean", default: false, required: false }
      - { label: "Koncept", name: "draft", widget: "boolean", default: false, required: false }

  # Settings - File-based collections
  - name: "settings"
    label: "Nastavení webu"
    files:
      # Contacts settings
      - label: "Kontakty školy"
        name: "contacts"
        file: "src/content/contacts/contacts.json"
        fields:
          - label: "Škola"
            name: "school"
            widget: "object"
            fields:
              - { label: "Název", name: "name", widget: "string", required: true }
              - { label: "Adresa", name: "address", widget: "string", required: true }
              - { label: "Město", name: "city", widget: "string", required: true }
              - { label: "Telefon", name: "phone", widget: "string", required: true }
              - { label: "Email", name: "email", widget: "string", required: true }
              - { label: "IČO", name: "ico", widget: "string", required: true }
              - { label: "DIČ", name: "dic", widget: "string", required: true }
              - { label: "Číslo účtu", name: "bankAccount", widget: "string", required: true }
          - label: "Jídelna"
            name: "cafeteria"
            widget: "object"
            fields:
              - { label: "Telefon", name: "phone", widget: "string", required: true }
              - { label: "Email", name: "email", widget: "string", required: true }
              - { label: "ID podatelny", name: "submission", widget: "string", required: true }
          - label: "Sociální sítě"
            name: "socialMedia"
            widget: "object"
            fields:
              - { label: "Facebook URL", name: "facebook", widget: "string", required: false }
              - { label: "Instagram URL", name: "instagram", widget: "string", required: false }

      # Navigation settings
      - label: "Navigace"
        name: "navigation"
        file: "src/content/navigation/navigation.json"
        fields:
          - label: "Hlavní menu"
            name: "sections"
            widget: "list"
            fields:
              - { label: "ID", name: "id", widget: "string", required: true }
              - { label: "Název sekce", name: "title", widget: "string", required: true }
              - { label: "URL", name: "url", widget: "string", required: true }
              - { label: "Barva", name: "color", widget: "select", options: ["primary", "primary-dark", "secondary", "accent-green", "accent-coral", "accent-rose"], required: true }
              - label: "Podsekce"
                name: "subsections"
                widget: "list"
                required: false
                fields:
                  - { label: "Název", name: "title", widget: "string", required: true }
                  - { label: "URL", name: "url", widget: "string", required: true }

      # Quick links settings
      - label: "Rychlé odkazy"
        name: "quick-links"
        file: "src/content/quick-links/quick-links.json"
        fields:
          - label: "Odkazy"
            name: "links"
            widget: "list"
            fields:
              - { label: "Název", name: "title", widget: "string", required: true }
              - { label: "URL", name: "url", widget: "string", required: true }
              - { label: "Barva", name: "color", widget: "select", options: ["primary", "secondary", "accent-green", "accent-coral", "accent-rose"], required: true }
