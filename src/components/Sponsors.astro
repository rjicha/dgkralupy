---
import { getEntry } from 'astro:content';

// Get sponsors data
const sponsorsData = await getEntry('sponsors', 'partners');
const partners = sponsorsData?.data.partners ?? [];

// Sort partners by order
const sortedPartners = [...partners].sort((a, b) => a.order - b.order);
---

{sortedPartners.length > 0 && (
  <div class="bg-bg-content border border-border-light p-6">
    <h2 class="text-xl font-heading font-thin uppercase mb-6 text-text-primary">
      PartneÅ™i Å¡koly
    </h2>

    <div class="grid grid-cols-2 gap-4">
      {sortedPartners.map((partner) => (
        <div class="flex items-center justify-center p-3 bg-white rounded hover:shadow-md transition-shadow">
          {partner.url ? (
            <a
              href={partner.url}
              target="_blank"
              rel="noopener noreferrer"
              class="block w-full h-full"
              title={partner.name}
            >
              <img
                src={import.meta.env.BASE_URL + partner.logo}
                alt={partner.alt}
                class="w-full h-auto max-h-16 object-contain"
                loading="lazy"
              />
            </a>
          ) : (
            <img
              src={import.meta.env.BASE_URL + partner.logo}
              alt={partner.alt}
              class="w-full h-auto max-h-16 object-contain"
              loading="lazy"
              title={partner.name}
            />
          )}
        </div>
      ))}
    </div>
  </div>
)}
