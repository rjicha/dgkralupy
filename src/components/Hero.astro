---
import type { CollectionEntry } from 'astro:content';
import ResponsiveImage from './ResponsiveImage.astro';

interface Props {
  article: CollectionEntry<'articles'>['data'];
  slug: string;
}

const { article, slug } = Astro.props;
---

<div class="relative w-full h-96 overflow-hidden bg-primary-dark">
  <!-- Background Image -->
  {article.image ? (
    <ResponsiveImage
      image={article.image}
      variant="hero"
      loading="eager"
      class="absolute inset-0 w-full h-full object-cover opacity-50"
      alt={article.title}
    />
  ) : (
    <div class="absolute inset-0 w-full h-full bg-gradient-to-br from-primary via-secondary to-accent-green opacity-30" />
  )}

  <!-- Overlay - Gradient from left (solid) to right (transparent) -->
  <div class="absolute inset-0 bg-gradient-to-r from-primary-dark from-20% via-primary-dark/70 via-40% to-transparent to-70%" />

  <!-- Content -->
  <div class="relative h-full container mx-auto px-4 flex items-end pb-12">
    <div class="max-w-3xl">
      {/* Important badge */}
      {article.important && (
        <div class="mb-3">
          <span class="bg-accent-coral text-white px-4 py-2 text-sm font-normal uppercase inline-block">
            Důležité oznámení
          </span>
        </div>
      )}

      <!-- Title -->
      <h2 class="text-4xl font-heading font-thin uppercase text-white mb-4 leading-tight">
        {article.title}
      </h2>

      <!-- Metadata -->
      <div class="flex items-center gap-4 mb-4 text-sm text-white/80 uppercase">
        <time datetime={article.publishedAt}>{article.publishedAt}</time>
        <span>•</span>
        <span>{article.author}</span>
      </div>

      <!-- Excerpt -->
      <p class="text-lg text-white/90 mb-6 leading-relaxed">
        {article.excerpt}
      </p>

      <!-- CTA Button -->
      <a
        href={import.meta.env.BASE_URL + `/aktualne/${slug}`}
        class="inline-flex items-center gap-2 bg-accent-rose hover:bg-accent-rose/90 text-white px-6 py-3 text-base font-normal uppercase transition-colors"
      >
        Číst celý článek
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    </div>
  </div>
</div>
