---
import type { Article } from '../data/mockData';

interface Props {
  article: Article;
  featured?: boolean;
}

const { article, featured = false } = Astro.props;
---

<article class={`bg-bg-content border border-border-light overflow-hidden transition-shadow hover:shadow-lg ${featured ? 'md:col-span-2' : ''}`}>
  <!-- Image -->
  <div class="relative overflow-hidden bg-border-light aspect-video">
    {article.image ? (
      <img
        src={article.image}
        alt={article.title}
        class="w-full h-full object-cover"
        loading="lazy"
      />
    ) : (
      <div class="w-full h-full flex items-center justify-center bg-primary/10">
        <span class="text-primary text-4xl">ðŸ“°</span>
      </div>
    )}

    {/* Important badge */}
    {article.important && (
      <div class="absolute top-2 right-2">
        <span class="bg-accent-coral text-white px-3 py-1 text-xs font-normal uppercase">
          DÅ¯leÅ¾itÃ©
        </span>
      </div>
    )}
  </div>

  <!-- Content -->
  <div class="p-4">
    <!-- Title -->
    <h3 class={`font-heading font-thin uppercase mb-2 ${featured ? 'text-xl' : 'text-lg'}`}>
      <a href={`/aktualne/${article.slug}`} class="text-text-primary hover:text-accent-rose transition-colors">
        {article.title}
      </a>
    </h3>

    <!-- Metadata -->
    <div class="flex items-center gap-3 mb-3 text-xs text-text-muted uppercase">
      <time datetime={article.publishedAt}>{article.publishedAt}</time>
      <span>â€¢</span>
      <span>{article.author}</span>
    </div>

    <!-- Tags -->
    {article.tags && article.tags.length > 0 && (
      <div class="flex flex-wrap gap-2 mb-3">
        {article.tags.map((tag) => (
          <a
            href={`/hledej/?tag=${encodeURIComponent(tag)}`}
            class="inline-block px-2 py-1 text-xs bg-bg-page text-text-secondary hover:bg-accent-rose hover:text-white transition-colors border border-border-light"
          >
            {tag}
          </a>
        ))}
      </div>
    )}

    <!-- Excerpt -->
    <p class="text-sm text-text-secondary mb-3 leading-relaxed">
      {article.excerpt}
    </p>

    <!-- Read more link -->
    <a
      href={`/aktualne/${article.slug}`}
      class="inline-flex items-center text-sm text-accent-rose hover:underline font-normal"
    >
      ÄŒÃ­st vÃ­ce
      <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>
  </div>
</article>
